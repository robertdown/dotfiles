# bashrc file

# Import our aliases
if [ -a ~/.bash_aliases ]
then
	source ~/.bash_aliases
fi

# Import any env vars
if [ -a ~/.envvars ]
then
	source ~/.envvars
fi

# xterm colors
if [ -a /usr/share/terminfo/x/xterm-256color ]
then
	export TERM='xterm-256color'
else
    export TERM='xterm-color'
fi

# RVM??
if test -f ~/.rvm/scripts/rvm; then
    [ "$(type -t rvm)" = "function" ] || source ~/.rvm/scripts/rvm
fi

# Git branch in prompt.
parse_git_branch() {
    git branch 2> /dev/null | sed -e '/^[^*]/d' -e 's/* \(.*\)/ \1/' 
}

# Git completion
if [ -f /opt/local/etc/profile.d/bash_completion.sh ]; then
	source /opt/local/etc/profile.d/bash_completion.sh
elif [ -f /usr/share/bash-completion/completions/git ]; then
	source /usr/share/bash-completion/completions/git
elif [ -f ~/.git-completion.bash ]; then
	source ~/.git-completion.bash
fi

# Git prompt
if [ -f /usr/share/git-core/contrib/completion/git-prompt.sh ]; then
  source /usr/share/git-core/contrib/completion/git-prompt.sh
elif [ -f ~/.git-prompt.sh ]; then
  source ~/.git-prompt.sh
fi

# Prompt changes
PS1="\[\033[38;5;242m\]\u [\A] \W \[\033[0;33m\]\$(parse_git_branch)\[\033[m\]\n\$ "

if [ -d "$HOME/.local/bin" ]
then
	PATH=$PATH:$HOME/.local/bin
fi

if [ -d "$HOME/.dotfiles/bin" ]
then
	PATH=$PATH:$HOME/.doftiles/bin
fi
 
export EDITOR=vim
export VISUAL=vim
export CAPP_BUILD="/Users/rdown/cap/build/"

[[ -s "$HOME/.rvm/scripts/rvm" ]] && source "$HOME/.rvm/scripts/rvm" # This loads RVM into a shell session

complete -C aws_completer aws

PATH=$PATH:$HOME/.composer/vendor/bin

export PATH="$PATH:$HOME/.rvm/bin" # Add RVM to PATH for scripting

export NVM_DIR="/Users/rdown/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && . "$NVM_DIR/nvm.sh"  # This loads nvm

export PYENV_ROOT="$HOME/.pyenv"
export PATH="$PYENV_ROOT/bin:$PATH"
eval "$(pyenv init - bash)"
eval "$(pyenv virtualenv-init -)"

